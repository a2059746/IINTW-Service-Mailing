<!--
  Generated template for the FreightOrderCheckPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
      <ion-title>商品細節</ion-title>
      <ion-buttons end>
          <button ion-button (click)="closeModal()">
            close
          </button>
        </ion-buttons>
    </ion-navbar>

  </ion-header>


  <ion-content padding>

      <div class="btn-group mb-2" role="group" aria-label="First group" >
          <button
            #boxBtn
            type="button"
            [ngClass]="{'btn': true, 'btn-light': !first, 'btn-primary': first, 'bouton-image': true, 'monBouton': true, 'px-2': true}"
            *ngFor="let order of orderInfo; let i = index; let first = first;"
            (click)="clickBox(i)">{{ i + 1 }}</button>
        </div>


        <div
          class="mb-5"
          *ngFor="let order of orderInfo; let i = index; let first = first;"
          #boxes
          [hidden]="(first)? false : true">

          <ion-card>
            <div class="container px-3 my-3">
              <div class="row">
                <div class="col-5 pl-0 pr-1 mx-auto text-center align-self-center">
                  <img class="mx-auto" [src]="order.FBPics || ('assets/imgs/archive.png')" alt="">
                </div>

                <div id="boxInfo" class="col-7 mb-2">
                  <div class="row pr-0 pl-1 py-0 mb-2">
                    <div class="col-12 p-0"><strong>箱子編號</strong></div>
                    <div class="col-12 p-0">
                      <input type="text" class="mb-1 form-control" style="display: block;" [value]="order.FBKey" disabled>
                    </div>
                    <div class="col-12 p-0">
                      <input type="text" class="form-control" style="display: block;"  [value]="order.FBSize" disabled>
                    </div>
                  </div>

                  <div class="row pr-0 pl-1 py-0 mb-3">
                    <div class="col-5 p-0" style="padding: 0.375rem 0rem !important;"><strong>適用國家</strong></div>
                    <div class="col-7 p-0">
                      <img *ngFor="let country of order.BindCountry" [src]="'assets/imgs/flags/' + country + '.png'" alt="">
                    </div>
                  </div>

                  <div class="row pr-0 pl-1 py-0 mb-2">
                    <div
                      class="col-5 p-0"
                      style="padding: 0.375rem 0rem !important;"><strong>寄送地區</strong>
                    </div>
                    <div class="col-7 p-0">
                      <input type="text" class="form-control" [value]="userCity" disabled>
                    </div>
                  </div>

                  <div class="row pr-0 pl-1 py-0 mb-2">
                    <div class="col-12 p-0"><strong>總訂金/總尾款</strong></div>
                    <div class="col-6 p-0">
                      <input type="text" class="form-control" [value]="(order.FBDeposit * order.boxChoosenAmount)" disabled>
                    </div>
                    <div class="col-6 p-0">
                      <input type="text" class="form-control" [value]="(order.FBBlance * order.boxChoosenAmount)" disabled>
                    </div>
                  </div>

                  <div class="row pr-0 pl-1 py-0">
                    <div
                      class="col-5 p-0"
                      style="padding: 0.375rem 0rem !important;"><strong>購買數量</strong>
                    </div>
                    <div class="col-7 p-0">
                      <input type="text" class="mb-3 form-control" [value]="order.boxChoosenAmount" disabled>
                    </div>
                  </div>

                </div>
              </div>
            </div>

          </ion-card>


          <ion-card *ngFor="let gift of gifts(i);">

              <div class="container px-3 my-3">
                  <div class="row">
                    <div class="col-5 pl-0 pr-1 mx-auto text-center align-self-center">
                      <img class="mx-auto" [src]=" gift.info.FGPics || ('assets/imgs/gift.png')" alt="">
                    </div>

                    <div class="col-7 px-0 align-self-center">
                        <table class="w-100">
                            <tr>
                              <th style="width: 40%; text-align: right;">
                                <div class="mr-2">贈品名稱</div>
                              </th>
                              <td style="width: 55%;">
                                {{ gift.info.FGName }}
                              </td>
                            </tr>
                            <tr>
                              <th style="width: 40%; text-align: right;">
                                <div class="mr-2">加購總額</div>
                              </th>
                              <td style="width: 55%;">
                                {{ gift.info.FGPrice * gift.amount }}
                              </td>
                            </tr>
                            <tr>
                              <th style="width: 40%; text-align: right;">
                                <div class="mr-2">加購數量</div>
                              </th>
                              <td style="width: 55%;">
                                {{ gift.amount }}
                              </td>
                            </tr>
                          </table>
                    </div>

                  </div>
              </div>
            </ion-card>
        </div>

  </ion-content>

