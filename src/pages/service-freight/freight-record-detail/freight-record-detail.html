<!--
  Generated template for the FreightRecordDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>訂單細節</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <ng-container *ngIf="isCtrl.loadingReady">


    <ion-item-group>
      <ion-item-divider color="light">訂單狀態</ion-item-divider>
      <ion-item>
        <h2>付款方式</h2>
        <ion-note item-end>{{ payMethod(_state.orderDetail.payMethod) }}</ion-note>
      </ion-item>
      <ion-item>
        <h2>繳費狀態</h2>
        <ion-badge  [ngStyle]="{'background-color': statePay._Color}"  item-end>{{ statePay._StateN }}</ion-badge>
      </ion-item>
      <ion-item>
        <h2>箱子狀態</h2>
        <ion-badge [ngStyle]="{'background-color': stateFreight._Color}"  item-end>{{ stateFreight._StateN }}</ion-badge>
      </ion-item>
      <ion-item *ngIf="_state.orderDetail.invoicePic">
        <img [src]="_state.orderDetail.invoicePic" class="mx-auto" style=" max-height:15rem; display: block;" alt="">
      </ion-item>
    </ion-item-group>

    <ion-item-group>
      <ion-item-divider color="light">訂單資訊</ion-item-divider>
      <ion-item>
        <h2>訂單編號</h2>
        <ion-note item-end></ion-note>
      </ion-item>
      <ion-item>
        <h2>申請時間</h2>
        <ion-note item-end>{{ estDate(_state.orderDetail._Date) }}</ion-note>
      </ion-item>
      <ion-item>
        <h2>購買商品</h2>
        <button ion-button icon-only item-end round style=" height: 3rem; width: 3rem; border-radius: 50%;" (click)="purchaseDetail()">
          <ion-icon name="search"></ion-icon>
        </button>
      </ion-item>
      <ion-item>
        <h2>總箱子訂金</h2>
        <ion-note item-end>{{ total.deposit }}</ion-note>
      </ion-item>
      <ion-item>
        <h2>總箱子尾款</h2>
        <ion-note item-end>{{ total.balance }}</ion-note>
      </ion-item>
      <ion-item>
        <h2>總贈品加購額</h2>
        <ion-note item-end>{{ total.giftsPrice }}</ion-note>
      </ion-item>
      <ion-item>
        <h2>總繳費金額</h2>
        <ion-note item-end>{{ total.payAmount }}</ion-note>
      </ion-item>
    </ion-item-group>

    <ion-item-group>
      <ion-item-divider color="light">個人資訊</ion-item-divider>
      <ion-item>
        <h2>收件者姓名</h2>
        <ion-note item-end>{{ _state.orderDetail.bName }}</ion-note>
      </ion-item>
      <ion-item>
        <h2>聯絡地址</h2>
        <ion-note item-end *ngIf="(_state.orderDetail.bAddrPic)">
          <img [src]="_state.orderDetail.bAddrPic" style=" max-height:10rem;" alt="">
        </ion-note>
        <ion-note item-end *ngIf="!(_state.orderDetail.bAddrPic)">{{ _state.orderDetail.bAddrArea + _state.orderDetail.bAddrLast }}</ion-note>
      </ion-item>
      <ion-item>
        <h2>連絡電話</h2>
        <ion-note item-end>{{ _state.orderDetail.bPhone }}</ion-note>
      </ion-item>
      <!-- <ion-item>
        <h2>國外收件地址</h2>
        <ion-note item-end>{{ _state.orderDetail.fAddress }}</ion-note>
      </ion-item>
      <ion-item>
        <h2>國外聯絡電話</h2>
        <ion-note item-end>{{ _state.orderDetail.fPhone }}</ion-note>
      </ion-item> -->
    </ion-item-group>

  </ng-container>

</ion-content>

<ion-footer *ngIf="isCodePayment">
  <ion-toolbar>
    <ion-grid>
      <ion-row>
        <ion-col col-6>
          <button ion-button block (click)="goBarcode(_state.orderDetail._Pay_State)">
            產生交費條碼
          </button>
        </ion-col>
        <ion-col col-6>
          <button ion-button block (click)="uploadR()" [disabled]="(_state.orderDetail._Pay_State != '88')">
            上傳繳費收據
          </button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-footer>
